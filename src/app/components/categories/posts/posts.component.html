<div>
  <div class="flex">
    <h3>{{ selectedCategory.name }}</h3>
  </div>
  <div class="table">
    <p-table
      [value]="selectedCategory.messages"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Author</th>
          <th>Message</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-message>
        <tr>
          <td>{{ message.author }}</td>
          <td>{{ message.message }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <br />
  <div class="flex">
    <p-button label="new message" (onClick)="showDialog()" />
  </div>
</div>

@if(visible) {
<div class="form">
  <h3>New Mesage for: {{ selectedCategory.name }}</h3>
  <p-floatLabel class="form-object">
    <input [(ngModel)]="message.author" pInputText id="author" />
    <label for="author" class="move-label-author">Author</label>
  </p-floatLabel>
  <p-floatLabel class="form-object">
    <textarea
      id="message"
      rows="5"
      cols="30"
      [(ngModel)]="message.message"
      pInputTextarea
    >
    </textarea>
    <label for="message" class="move-label-message">New Message</label>
  </p-floatLabel>
  <br>
  <p-button class="form-object" label="Cancel" (onClick)="closeDialog()" />
  <p-button class="form-object" label="Create" (onClick)="addMessage()" />
</div>
}
